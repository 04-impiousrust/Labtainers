Use radius for ssh authentication

Add the ssh server to the radius clients file: /etc/raddb/clients.conf
client myclient {
        ipaddr = 172.25.0.4
        secret = testing123
}

The secret is a radius-wide secret.  Replace with a pki cert?

User and password added to /etc/raddb/users

bob     Cleartext-Password := "hello"
        Reply-Message := "Hello, %{User-Name}"


replace password with ssh public key?

On ssh server, /etc/pam.d/sshd, comment common-auth and add two lines::

#@include common-auth

auth       sufficient      /lib/security/pam_radius_auth.so debug
session    sufficient      /lib/security/pam_radius_auth.so debug conf=/etc/pam_radius_auth.conf

Add to /etc/pam_radius_auth.conf (and comment other):
172.25.0.2      testing123         3

